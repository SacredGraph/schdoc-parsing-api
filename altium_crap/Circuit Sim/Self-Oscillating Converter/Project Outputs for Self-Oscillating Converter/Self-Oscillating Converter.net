Self-Oscillating Converter
*SIMPLIS Netlist generated by Advanced Sim server on 14/08/2007 6:55:48 PM

*Schematic Netlist:
XC1 1 0 SIMPLIS_ELEC_CAP_L13$0
XC2 0 2 SIMPLIS_ELEC_CAP_L13$1
C3 3 4 2.2n
C4 5 6 0.01u
C5 7 8 22n IC=-1.7
C6 9 8 100n IC=-1.7
XC7 10 0 SIMPLIS_ELEC_CAP_L13$2
C8 11 0 10n
XD1 0 3 SIMetrix_1N4746A_PS
X$D2 12 1 SIMetrix_MUR840
X$D3 0 13 SIMetrix_D1N4002
X$D4 14 6 SIMetrix_D1N4002
E2 15 0 16 0 180
VF2 17 18 0V
F2 0 16 VF2 1
VH1 19 11 0V
H1 20 0 VH1 1
I1 21 0 PWL NSEG=2 X0=0 Y0=0 X1=99.99999u Y1=0 X2=100u Y2=1
VILOAD 10 21 0
XL1 1 10 SIMetrix_LOSSYL$3
XL4 5 17 SIMPLIS_PWLL5$4
Lleak 14 22 91u IC=0
XQ1 14 3 23 SIMetrix_STD2NA60
X$Q2 3 11 0 SIMetrix_Q2N2222A_ZTX
R1 5 3 2Meg
R2 0 23 1.5
R3 21 0 2.5
R4 0 2 150
R5 13 4 4.7k
R6 9 24 4.75k
R7 0 9 4.75k
R8 7 9 33k
R9 25 24 20
R10 26 19 620
R11 11 23 39
R12 5 6 22k
XR14 16 0 SIMPLIS_VPWLR5$5
RW1 18 22 3.87
RW2 12 27 19.5m
RW3 28 2 607m
XTX2 5 18 0 27 13 28 IDEAL3W vars: Ratio1=58.1m Ratio2=134m
XU1 25 8 2 26 GEN_OPTO
XU2 0 8 9 SIMPLIS_TL431
V1 5 0 PWL NSEG=2 X0=0 Y0=310 X1=0 Y1=310 X2=10u Y2=310
V3 21 29 0
V3_AC 29 24 AC 1 0
X1 3 30 SIMPLIS_PERIODIC_OP


*PLOT AC -1 1 A=CONTROL A=OPTO A=VILOAD#branch A=VOUT
.PRINT V(8)
*GRAPH :8 analysis="ac" curveLabel="CONTROL" xLog="auto" yLog="auto" nowarn=true 
.PRINT V(26)
*GRAPH :26 analysis="ac" curveLabel="OPTO" xLog="auto" yLog="auto" nowarn=true 
.PRINT I(VILOAD#P)
*GRAPH VILOAD#P analysis="ac" curveLabel="VILOAD#branch" xLog="auto" yLog="auto" nowarn=true 
.PRINT V(21)
*GRAPH :21 analysis="ac" curveLabel="VOUT" xLog="auto" yLog="auto" nowarn=true 
*PLOT TRAN -1 1 A=CONTROL A=OPTO A=VILOAD#branch A=VOUT
.PRINT V(8)
*GRAPH :8 analysis="tran" curveLabel="CONTROL" xLog="auto" yLog="auto" nowarn=true 
.PRINT V(26)
*GRAPH :26 analysis="tran" curveLabel="OPTO" xLog="auto" yLog="auto" nowarn=true 
.PRINT I(VILOAD#P)
*GRAPH VILOAD#P analysis="tran" curveLabel="VILOAD#branch" xLog="auto" yLog="auto" nowarn=true 
.PRINT V(21)
*GRAPH :21 analysis="tran" curveLabel="VOUT" xLog="auto" yLog="auto" nowarn=true 
*PLOT POP -1 1 A=CONTROL A=OPTO A=VILOAD#branch A=VOUT
.PRINT V(8)
*GRAPH :8 analysis="pop" curveLabel="CONTROL" xLog="auto" yLog="auto" nowarn=true 
.PRINT V(26)
*GRAPH :26 analysis="pop" curveLabel="OPTO" xLog="auto" yLog="auto" nowarn=true 
.PRINT I(VILOAD#P)
*GRAPH VILOAD#P analysis="pop" curveLabel="VILOAD#branch" xLog="auto" yLog="auto" nowarn=true 
.PRINT V(21)
*GRAPH :21 analysis="pop" curveLabel="VOUT" xLog="auto" yLog="auto" nowarn=true 

.OPTIONS IGNORE_UNITS NEW_ANALYSIS
*Selected Circuit Analyses:
.POP TRIG_GATE=X1.!D_CYCLE TRIG_COND=0_TO_1 MAX_PERIOD=5E-005 CONVERGENCE=1E-014 CYCLES_BEFORE_LAUNCH=3
.OPTIONS POP_SHOWDATA
.AC DEC 25 10 5E4
.OPTIONS FREQ_DOMAIN=Z
.TRAN 0.001 0
.OPTIONS PSP_NPT=8001

*Models and Subcircuits:
.SUBCKT SIMPLIS_ELEC_CAP_L13$0 31 32
.NODE_MAP P 31
.NODE_MAP N 32
C1 33 32 0.001 IC=5
RSH 33 32 1000000
RESR 31 33 0.04
.ENDS SIMPLIS_ELEC_CAP_L13$0

.SUBCKT SIMPLIS_ELEC_CAP_L13$1 31 32
.NODE_MAP P 31
.NODE_MAP N 32
C1 33 32 4.7e-005 IC=-12.75
RSH 33 32 1000000
RESR 31 33 0.95
.ENDS SIMPLIS_ELEC_CAP_L13$1

.SUBCKT SIMPLIS_ELEC_CAP_L13$2 31 32
.NODE_MAP P 31
.NODE_MAP N 32
C1 33 32 0.00047 IC=5
RSH 33 32 1000000
RESR 31 33 0.29
.ENDS SIMPLIS_ELEC_CAP_L13$2

.SUBCKT SIMetrix_1N4746A_PS 34 35
.NODE_MAP P 34
.NODE_MAP N 35
Xx 34 35 ZENER_DIODE vars: IS=12.6394n N=2.18699 RS=193.247m VZ=17.5242 RZ=45.5 Ileak=12.6351n Itest=5m PMAX=1
.ENDS SIMetrix_1N4746A_PS

.SUBCKT SIMetrix_MUR840 1 2 vars: IMAX=8 IC=0 is=4.1f N=1.0 rs=44m vj=0.75
.NODE_MAP P 1
.NODE_MAP N 2
.VAR IC = {IFF(IC<50m, 1, IFF(IC<VJ, 2, 3))}
Xx 1 2 DIODE_SPICE vars: IMAX={IMAX} IC={IC} IS={IS} N={N} RS={RS}
.ENDS SIMetrix_MUR840

.SUBCKT SIMetrix_D1N4002 1 2 vars: IMAX=1 IC=0 IS=140f N=1.0 RS=39m VJ=0.75
.NODE_MAP P 1
.NODE_MAP N 2
.VAR IC = {IFF(IC<50m, 1, IFF(IC<VJ, 2, 3))}
Xx 1 2 DIODE_SPICE vars: IMAX={IMAX} IC={IC} IS={IS} N={N} RS={RS}
.ENDS SIMetrix_D1N4002

.SUBCKT SIMetrix_LOSSYL$3 31 33
.NODE_MAP P 31
.NODE_MAP N 33
L1 31 36 1.4e-005
RSHUNT 31 36 1000000
RSERIES 33 36 0.01
.ENDS SIMetrix_LOSSYL$3

.SUBCKT SIMPLIS_PWLL5$4 31 33
!Lx 31 33 PWLL5 IC=0
.MODEL PWLL5 PWLL NSEG=5 X0=-0.5 Y0=-0.001655 X1=-0.45 Y1=-0.00165 X2=-0.4 Y2=-0.0016 X3=0.4 Y3=0.0016 X4=0.45 Y4=0.00165 X5=0.5 Y5=0.001655
.ENDS SIMPLIS_PWLL5$4

.subckt SIMetrix_STD2NA60 37 38 39
.NODE_MAP D 37
.NODE_MAP G 38
.NODE_MAP S 39
Xx 37 38 39 PWR_NMOS_SPICE vars: VGSNOM=10 IDMAX=7.32205 RDSON=3.30001 KP=969.644m VTO=2.99912 RS=77.6749m LAMBDA=679.067p IS=4.60004n RSD=36.1m N=1 CGS=348p VDSNOM=200 QDG0=-5.51233n QDG1=1.50505n QDG2=3.01009n QDG3=4.51514n XDG0=-5 XDG1=4.56757 XDG2=29.081 XDG3=158.489 QDS1=284.005p QDS2=568.01p QDS3=852.016p XDS1=22.286 XDS2=75.0895 XDS3=158.489
.ENDS SIMetrix_STD2NA60

.SUBCKT SIMetrix_Q2N2222A_ZTX 1 2 3 vars: IS=3.0611E-14 NF=1.00124 BF=220 BR=4 RB=0.13 RC=0.12 RE=0.22
.NODE_MAP C 1
.NODE_MAP B 2
.NODE_MAP E 3
Xx 1 2 3 NPN_SPICE vars: BR={BR} BF={BF} NF={NF} RC={RC} RE={RE} IS={IS} RB={RB}
.ENDS SIMetrix_Q2N2222A_ZTX

.SUBCKT SIMPLIS_VPWLR5$5 31 33
!Rx 31 33 VPWLR5 IC=1
.MODEL VPWLR5 VPWLR NSEG=5 X0=-0.001655 Y0=-0.5 X1=-0.00165 Y1=-0.45 X2=-0.0016 Y2=-0.4 X3=0.0016 Y3=0.4 X4=0.00165 Y4=0.45 X5=0.001655 Y5=0.5
.ENDS SIMPLIS_VPWLR5$5

.SUBCKT IDEAL3W 31 33 36 40 41 42 vars: RATIO1=1 RATIO2=1
!Tx N_WIND=3 31 33 N1=1 36 40 N2={RATIO1} 41 42 N3={RATIO2}
.ENDS IDEAL3W

.SUBCKT GEN_OPTO 43 44 45 46
C1 42 44 4u
X$D1 43 41 IDEAL
.SUBCKT IDEAL 1 2 vars: IMAX=100m IC=0 IS=1p N=1.0 RS=0.0 VJ=0.6
.NODE_MAP P 1
.NODE_MAP N 2
.VAR IC = {IFF(IC<50m, 1, IFF(IC<VJ, 2, 3))}
Xx 1 2 DIODE_SPICE vars: IMAX={IMAX} IC={IC} IS={IS} N={N} RS={RS}
.ENDS IDEAL
F1 44 42 VF1 2
VF1 41 44 0
G1 45 46 42 44 1
R1 42 44 1
!R2 46 45 R2 IC=1
.MODEL R2 VPWLR NSEG=3 X0=-100 Y0=-1e-6 X1=0.00 Y1=0 X2=.001 Y2=1e-3 X3=0.01 Y3=1
.ENDS GEN_OPTO

.SUBCKT SIMPLIS_TL431 33 36 31
.NODE_MAP ANODE 33
.NODE_MAP CATHODE 36
.NODE_MAP REFIN 31
!RD1 31 47 MD1M IC=1
V$$RD1 47 34 0
F2 34 31 V$$RD2 0.5
!RD2 31 48 MD1M IC=1
V$$RD2 48 36 0
F1 36 31 V$$RD1 0.5
RIN 34 33 500K
IVR 33 49 1.00
RVR 49 33 1.8841
GM 33 50 34 49 1.1534332086985
RGM 50 33 1000K
CP1 50 51 15.92p
RZ1 51 33 20K
RP2 50 52 10MEG
CP2 52 33 0.265p
!RDC 33 50 MDCLAMPM IC=2
GO 36 33 52 33 3.0581818181818u
!RDR 33 36 MDNOM IC=1
.MODEL MDNOM VPWLR NSEG=2 X0=0 Y0=0 X1=0.5 Y1=1U X2=0.6 Y2=0.100001
.MODEL MDCLAMPM VPWLR NSEG=2 X0=-10 Y0=-1U X1=0 Y1=0 X2=1U Y2=1
.MODEL MD1M VPWLR NSEG=2 X0=0 Y0=0 X1=0.614 Y1=0.1N X2=0.714 Y2=0.01
.ENDS SIMPLIS_TL431

.SUBCKT SIMPLIS_PERIODIC_OP 31 36
.NODE_MAP IN 31
.NODE_MAP OUT 36
!D_CYCLE 36 0 31 53 M1M IC=0
VREF 53 0 2.5
.MODEL M1M COMP RIN=10MEG ROUT=50 VOL=0 VOH=5 HYSTWD=0.002 DELAY=0
.ENDS SIMPLIS_PERIODIC_OP

.END
